<div class="container my-5">
    <h2 class="mb-4 text-center">✅ Confirmación de compra</h2>

    @if(userInfo) {
    <div class="card p-4 shadow-sm mb-4">
        <h5 class="mb-3">Datos del cliente:</h5>
        <p><strong>Nombre:</strong> {{ userInfo.nombre }}</p>
        <p><strong>Email:</strong> {{ userInfo.email }}</p>
        <p><strong>Dirección:</strong> {{ userInfo.direccion }}</p>
    </div>
    }

    @if(productos.length > 0) {
    <div class="card p-4 shadow-sm">
        <h5 class="mb-3">Resumen de productos:</h5>

        @for (product of productos; track product.id_product) {
        <div class="border-bottom pb-2 mb-2">
            <img [src]="product.image" [alt]="product.name" class="img-thumbnail" style="width: 80px; height: 80px; object-fit: cover;">
            <p class="mb-1"><strong>{{ product.name }}</strong></p>
            <p class="mb-0">Cantidad: {{ contarProducto(product.id_product) }}</p>
            <p class="mb-0">Subtotal: ${{ (contarProducto(product.id_product) * product.price).toFixed(2) }}</p>
        </div>
        }

        <h5 class="text-end mt-3">
            Total pagado: <span class="text-success">${{ total().toFixed(2) }}</span>
        </h5>
        <a class="btn btn-primary mt-2" routerLink="/home">Seguir Comprando</a>
    </div>
    } @else {
    <div class="alert alert-info text-center">No hay productos en esta compra.</div>
    }
</div>